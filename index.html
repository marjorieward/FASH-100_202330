<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Modals and HTML Insertion</title>
<link href="ModalInsert.css" rel="stylesheet" type="text/css">
</head>

<body>
	<!-- Trigger/Open The Modal -->
<h1>Click the Button Below</h1>
	<button id="myBtn" onClick="loadHtml('template', 'New1.html')">Open Modal</button>

<!-- The Modal -->
<div id="myModal" class="modal">

  <!-- Modal content -->
  <div class="modal-content">
    <span class="close">&times;</span>
    <div id="template2" class="template">Content Pull
	  </div> 
  </div>
</div>
	<div id="template">Insert text
	  </div>
	<script>
	// Get the modal
var modal = document.getElementById("myModal");


// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

function openModal(){
	modal.style.display = "block";
}

function loadHtml(id, filename){
	var xhttp;
	var element = document.getElementById(id);
	var file = filename;
	if (file){
		xhttp = new XMLHttpRequest();
		xhttp.onreadystatechange = function(){
			if (this.readyState == 4){
				if(this.status == 200) {element.innerHTML = this.responseText;}
				if(this.status == 404) {element.innerHTML = "<h1>Page not found.</h1>";}
			}
		}
		xhttp.open("GET", 'templates/${file}', true);
		xhttp.send();
		return;
	}
	
}

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
  modal.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}
	</script>
</body>
</html>
